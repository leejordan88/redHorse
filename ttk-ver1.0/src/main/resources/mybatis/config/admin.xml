<?xml version="1.0" encoding="UTF-8"?>
<!-- Sql Mapper -->
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">
   <select id="managerView"  resultType="reporterVO">
   select id, name, tel, age, (
   select count(*) from message where member.id = message.sender or member.id=message.receiver) as messageCount,
   (select sum(
      (select count(*) from  pictureReport, memberPicture where memberPicture.pictureNo = pictureReport.pictureNo and member.id = memberPicture.id)+
      (select count(*) from  messageReport, message where messageReport.messageNo = message.messageNo and member.id = message.sender)
   )from dual)as reportCount,
   (select count(*) from traveler where member.id = traveler.id) as travelingCount,
   (select count(*) from memberPicture where member.id = memberPicture.id) as pictureCount,
   enabled
      from member
   </select>
   
   
</mapper>